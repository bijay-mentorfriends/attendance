<ion-content>
  <div class="card-container">
    <ion-row>
      <ion-col size-md="9" size="12" class="welcome">
        <ion-card-header>
          <img
            width="100"
            src="./assets/humanizing-data.png"
            alt="Humanizing logo"
            loading="lazy"
          />

          <ion-card-title> Sign In </ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <div *ngIf="loginError" class="validation_error alert alert-danger">
            {{ errorMessage }}
          </div>
          <div class="login-form mt-3">
            <form
              class="login-form validate-form"
              (ngSubmit)="onSubmit()"
              [formGroup]="loginForm"
              #loginFormId="ngForm"
            >
              <ion-list>
                <ion-item>
                  <ion-input
                    type="email"
                    class="form-control"
                    placeholder="Enter email"
                    formControlName="email"
                  ></ion-input>
                  <small
                    class="err_msg"
                    *ngIf="
                      email &&
                      email.invalid &&
                      (email.touched || loginFormId.submitted)
                    "
                  >
                    Please enter valid email.
                  </small>
                </ion-item>
                <ion-item>
                  <ion-input
                    type="password"
                    class="form-control"
                    placeholder="Password"
                    formControlName="password"
                  ></ion-input>
                  <small
                    class="err_msg"
                    *ngIf="
                      password &&
                      password.invalid &&
                      (password.touched || loginFormId.submitted)
                    "
                  >
                    Please enter valid password.
                  </small>
                </ion-item>
              </ion-list>

              <ion-button
                *ngIf="notLoading; else loading"
                type="submit"
                shape="round"
                color="primary"
                class="btn btn-primary"
              >
                Sign in
              </ion-button>
              <ng-template #loading>
                <ion-button
                  shape="round"
                  color="primary"
                  [disabled]="true"
                  class="btn btn-primary btn-loading"
                >
                  <div class="spinner-border text-light" role="status">
                    <span class="sr-only">.</span>
                  </div>
                  Loading..
                </ion-button>
              </ng-template>
            </form>
          </div>
        </ion-card-content>
      </ion-col>
    </ion-row>
  </div>
</ion-content>
